let scene,camera,renderer,centralHexagon,particles;const primaryColor=12161643,canvasContainer=document.getElementById("three-canvas-container");function initLandingAnimation(){if(!canvasContainer){console.error("Three.js container (#three-canvas-container) not found in the DOM.");return}scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),camera.position.z=18,renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(0,0),canvasContainer.appendChild(renderer.domElement);const t=2.5,n=new THREE.Shape;n.moveTo(t*Math.cos(0),t*Math.sin(0));for(let e=1;e<=6;e++)n.lineTo(t*Math.cos(e*2*Math.PI/6),t*Math.sin(e*2*Math.PI/6));const a=new THREE.ShapeGeometry(n),r=new THREE.MeshBasicMaterial({color:primaryColor,side:THREE.DoubleSide,transparent:!0,opacity:0});centralHexagon=new THREE.Mesh(a,r),centralHexagon.scale.set(.5,.5,.5);const c=document.querySelector("main#main-content > article:first-child div.relative div.mx-auto div.relative.shadow-xl"),l=Boolean(c);l?(centralHexagon.visible=!1,console.log("Homepage structure detected, hexagon remains invisible.")):(centralHexagon.visible=!0,console.log("Not homepage, hexagon will appear.")),scene.add(centralHexagon);const s=300,o=new THREE.BufferGeometry,e=new Float32Array(s*2*3),i=.3;for(let n=0;n<s;n++){const r=(Math.random()-.5)*40,c=(Math.random()-.5)*40,l=(Math.random()-.5)*40,d=new THREE.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),o=new THREE.Vector3(r,c,l).add(d.clone().multiplyScalar(i/2)),a=new THREE.Vector3(r,c,l).sub(d.clone().multiplyScalar(i/2)),t=n*6;e[t]=o.x,e[t+1]=o.y,e[t+2]=o.z,e[t+3]=a.x,e[t+4]=a.y,e[t+5]=a.z}o.setAttribute("position",new THREE.BufferAttribute(e,3));const d=new THREE.LineBasicMaterial({color:primaryColor,transparent:!0,opacity:.8});particles=new THREE.LineSegments(o,d),scene.add(particles),centralHexagon.visible&&(anime({targets:centralHexagon.scale,x:1,y:1,z:1,duration:2500,easing:"easeOutExpo",delay:500}),anime({targets:centralHexagon.material,opacity:.75,duration:2500,easing:"easeOutQuad",delay:500}),anime({targets:centralHexagon.rotation,z:Math.PI*2,duration:45e3,easing:"linear",loop:!0,begin:e=>{if(e.currentTime>0)return;e.seek(e.duration*.1)},delay:1e3}),anime({targets:centralHexagon.material,opacity:[.65,.85,.65],duration:1e4,easing:"easeInOutSine",loop:!0,direction:"alternate",delay:1e3})),window.addEventListener("resize",onWindowResizeLanding,!1),animateLandingLoop()}function onWindowResizeLanding(){const e=window.innerWidth,t=window.innerHeight;camera&&renderer&&(camera.aspect=e/t,camera.updateProjectionMatrix(),renderer.setSize(e,t))}function animateLandingLoop(){requestAnimationFrame(animateLandingLoop),particles&&(particles.rotation.x+=4e-4,particles.rotation.y+=6e-4),scene&&camera&&renderer&&renderer.render(scene,camera)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initLandingAnimation):initLandingAnimation()